{% spaceless %}
{% if (particle.enabled) %}
    {% for css in particle.css %}
        {% if css.location %}
            {% do gantry.document.addStyle(css.extra|default({})|merge({href: url(css.location)}), 0) %}
        {% endif %}

        {% if css.inline %}
            {% do gantry.document.addInlineStyle(css.extra|default({})|merge({content: css.inline}), 0) %}
        {% endif %}
    {% endfor %}

    {% for script in particle.javascript %}
        {% if script.location %}
            {% do gantry.document.addScript(script.extra|default({})|merge({src: url(script.location)}), 0, script.in_footer == true ? 'footer' : 'head') %}
        {% endif %}

        {% if script.inline %}
            {% do gantry.document.addInlineScript(script.extra|default({})|merge({content: script.inline}), 0, script.in_footer == true ? 'footer' : 'head') %}
        {% endif %}
    {% endfor %}
{% endif %}
{% endspaceless %}